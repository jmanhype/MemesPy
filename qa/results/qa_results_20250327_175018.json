{
  "timestamp": "2025-03-27T17:50:18.965191",
  "type_checking": {
    "passed": false,
    "output": "src/dspy_meme_gen/utils/text.py:33: error: Need type annotation for \"current_line\" (hint: \"current_line: list[<type>] = ...\")  [var-annotated]\nsrc/dspy_meme_gen/utils/text.py:167: error: Need type annotation for \"hashtags\" (hint: \"hashtags: list[<type>] = ...\")  [var-annotated]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:5: error: Cannot find implementation or library stub for module named \"dspy_meme_gen.models.models\"  [import-not-found]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:57: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:64: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:73: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:80: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:89: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:96: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:105: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:112: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:121: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:128: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:137: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:144: error: Dict entry 4 has incompatible type \"str\": \"list[str]\"; expected \"str\": \"str\"  [dict-item]\nsrc/dspy_meme_gen/models/seed_data/content_guidelines.py:149: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\nsrc/dspy_meme_gen/health/checks.py:7: error: Library stubs not installed for \"psutil\"  [import-untyped]\nsrc/dspy_meme_gen/health/checks.py:7: note: Hint: \"python3 -m pip install types-psutil\"\nsrc/dspy_meme_gen/health/checks.py:7: note: (or run \"mypy --install-types\" to install all missing stub packages)\nsrc/dspy_meme_gen/health/checks.py:8: error: Cannot find implementation or library stub for module named \"aioredis\"  [import-not-found]\nsrc/dspy_meme_gen/health/checks.py:11: error: Cannot find implementation or library stub for module named \"prometheus_client\"  [import-not-found]\nsrc/dspy_meme_gen/health/checks.py:34: error: Function \"builtins.any\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/health/checks.py:34: note: Perhaps you meant \"typing.Any\" instead of \"any\"?\nsrc/dspy_meme_gen/health/checks.py:64: error: Function \"builtins.any\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/health/checks.py:64: note: Perhaps you meant \"typing.Any\" instead of \"any\"?\nsrc/dspy_meme_gen/health/checks.py:74: error: Incompatible types in \"await\" (actual type \"Optional[Row[Any]]\", expected type \"Awaitable[Any]\")  [misc]\nsrc/dspy_meme_gen/health/checks.py:79: error: \"Pool\" has no attribute \"size\"  [attr-defined]\nsrc/dspy_meme_gen/health/checks.py:80: error: \"Pool\" has no attribute \"checkedout\"  [attr-defined]\nsrc/dspy_meme_gen/health/checks.py:81: error: \"Pool\" has no attribute \"overflow\"  [attr-defined]\nsrc/dspy_meme_gen/health/checks.py:96: error: Function \"builtins.any\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/health/checks.py:96: note: Perhaps you meant \"typing.Any\" instead of \"any\"?\nsrc/dspy_meme_gen/health/checks.py:123: error: Function \"builtins.any\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/health/checks.py:123: note: Perhaps you meant \"typing.Any\" instead of \"any\"?\nsrc/dspy_meme_gen/health/checks.py:165: error: Function \"builtins.any\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/health/checks.py:165: note: Perhaps you meant \"typing.Any\" instead of \"any\"?\nsrc/dspy_meme_gen/health/checks.py:196: error: Incompatible types in \"await\" (actual type \"Optional[Row[Any]]\", expected type \"Awaitable[Any]\")  [misc]\nsrc/dspy_meme_gen/exceptions/base.py:92: error: Incompatible types in assignment (expression has type \"dict[str, Any]\", target has type \"str\")  [assignment]\nsrc/dspy_meme_gen/cache/base.py:202: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\nsrc/dspy_meme_gen/agents/router.py:4: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/agents/prompt_generator.py:4: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/agents/format_selector.py:4: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/agents/factuality.py:4: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/models/base.py:42: error: \"Base\" has no attribute \"__table__\"; maybe \"__tablename__\"?  [attr-defined]\nsrc/dspy_meme_gen/models/query_optimizer.py:17: error: Cannot find implementation or library stub for module named \"dspy_meme_gen.cache.cache_manager\"  [import-not-found]\nsrc/dspy_meme_gen/models/query_optimizer.py:125: error: Incompatible return value type (got \"tuple[Select[Any], Select[tuple[int]]]\", expected \"tuple[Select[Any], int]\")  [return-value]\nsrc/dspy_meme_gen/models/meme.py:23: error: Incompatible types in assignment (expression has type \"str\", base class \"Base\" defined the type as \"Callable[[Base], str]\")  [assignment]\nsrc/dspy_meme_gen/models/meme.py:44: error: Incompatible types in assignment (expression has type \"str\", base class \"Base\" defined the type as \"Callable[[Base], str]\")  [assignment]\nsrc/dspy_meme_gen/models/meme.py:68: error: Incompatible types in assignment (expression has type \"str\", base class \"Base\" defined the type as \"Callable[[Base], str]\")  [assignment]\nsrc/dspy_meme_gen/models/meme.py:74: error: Name \"DateTime\" is not defined  [name-defined]\nsrc/dspy_meme_gen/models/meme.py:86: error: Incompatible types in assignment (expression has type \"str\", base class \"Base\" defined the type as \"Callable[[Base], str]\")  [assignment]\nsrc/dspy_meme_gen/models/meme.py:99: error: Incompatible types in assignment (expression has type \"str\", base class \"Base\" defined the type as \"Callable[[Base], str]\")  [assignment]\nsrc/dspy_meme_gen/models/content_guidelines.py: error: Incompatible types in assignment (expression has type \"Mapped[Optional[int]]\", base class \"Base\" defined the type as \"Mapped[int]\")  [assignment]\nsrc/dspy_meme_gen/models/content_guidelines.py:20: error: Incompatible types in assignment (expression has type \"str\", base class \"Base\" defined the type as \"Callable[[Base], str]\")  [assignment]\nsrc/dspy_meme_gen/models/content_guidelines.py:27: error: [SQLAlchemy Mypy plugin] Can't infer scalar or collection for ORM mapped expression assigned to attribute 'guidelines' if both 'uselist' and 'collection_class' arguments are absent from the relationship(); please specify a type annotation on the left hand side.  [misc]\nsrc/dspy_meme_gen/models/content_guidelines.py:27: error: [SQLAlchemy Mypy plugin] Can't infer type from ORM mapped expression assigned to attribute 'guidelines'; please specify a Python type or Mapped[<python type>] on the left hand side.  [misc]\nsrc/dspy_meme_gen/models/content_guidelines.py:45: error: Incompatible types in assignment (expression has type \"str\", base class \"Base\" defined the type as \"Callable[[Base], str]\")  [assignment]\nsrc/dspy_meme_gen/models/content_guidelines.py:55: error: [SQLAlchemy Mypy plugin] Can't infer scalar or collection for ORM mapped expression assigned to attribute 'category' if both 'uselist' and 'collection_class' arguments are absent from the relationship(); please specify a type annotation on the left hand side.  [misc]\nsrc/dspy_meme_gen/models/content_guidelines.py:55: error: [SQLAlchemy Mypy plugin] Can't infer type from ORM mapped expression assigned to attribute 'category'; please specify a Python type or Mapped[<python type>] on the left hand side.  [misc]\nsrc/dspy_meme_gen/models/content_guidelines.py:66: error: \"Mapped[Any]\" has no attribute \"name\"  [attr-defined]\nsrc/dspy_meme_gen/models/content_guidelines.py:69: error: Item \"None\" of \"Optional[SeverityLevel]\" has no attribute \"value\"  [union-attr]\nsrc/dspy_meme_gen/models/content_guidelines.py:77: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\nsrc/dspy_meme_gen/models/content_guidelines.py:202: error: Argument \"name\" to \"GuidelineCategory\" has incompatible type \"Sequence[Collection[str]]\"; expected \"Optional[str]\"  [arg-type]\nsrc/dspy_meme_gen/models/content_guidelines.py:203: error: Argument \"description\" to \"GuidelineCategory\" has incompatible type \"Sequence[Collection[str]]\"; expected \"Optional[str]\"  [arg-type]\nsrc/dspy_meme_gen/models/content_guidelines.py:212: error: Value of type \"Collection[str]\" is not indexable  [index]\nsrc/dspy_meme_gen/models/content_guidelines.py:218: error: Value of type \"Collection[str]\" is not indexable  [index]\nsrc/dspy_meme_gen/models/content_guidelines.py:219: error: Value of type \"Collection[str]\" is not indexable  [index]\nsrc/dspy_meme_gen/models/content_guidelines.py:220: error: Value of type \"Collection[str]\" is not indexable  [index]\nsrc/dspy_meme_gen/utils/image.py:84: error: \"ImageDraw\" has no attribute \"textsize\"  [attr-defined]\nsrc/dspy_meme_gen/models/repository.py:127: error: Missing positional argument \"entity_id\" in call to \"EntityNotFoundError\"  [call-arg]\nsrc/dspy_meme_gen/models/repository.py:184: error: Returning Any from function declared to return \"list[ModelType]\"  [no-any-return]\nsrc/dspy_meme_gen/models/repository.py:253: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/models/repository.py:253: note: Use \"-> None\" if function does not return a value\nsrc/dspy_meme_gen/models/repository.py:301: error: Incompatible return value type (got \"Sequence[MemeTemplate]\", expected \"list[MemeTemplate]\")  [return-value]\nsrc/dspy_meme_gen/models/repository.py:309: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/models/repository.py:309: note: Use \"-> None\" if function does not return a value\nsrc/dspy_meme_gen/models/repository.py:339: error: Incompatible return value type (got \"Sequence[GeneratedMeme]\", expected \"list[GeneratedMeme]\")  [return-value]\nsrc/dspy_meme_gen/models/repository.py:347: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/models/repository.py:347: note: Use \"-> None\" if function does not return a value\nsrc/dspy_meme_gen/models/repository.py:377: error: Incompatible return value type (got \"Sequence[TrendingTopic]\", expected \"list[TrendingTopic]\")  [return-value]\nsrc/dspy_meme_gen/models/repository.py:385: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/models/repository.py:385: note: Use \"-> None\" if function does not return a value\nsrc/dspy_meme_gen/models/repository.py:415: error: Incompatible return value type (got \"Sequence[UserFeedback]\", expected \"list[UserFeedback]\")  [return-value]\nsrc/dspy_meme_gen/backup/manager.py:6: error: Cannot find implementation or library stub for module named \"boto3\"  [import-not-found]\nsrc/dspy_meme_gen/backup/manager.py:13: error: Skipping analyzing \"botocore.exceptions\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/backup/manager.py:83: error: Value of type \"Union[str, int]\" is not indexable  [index]\nsrc/dspy_meme_gen/backup/manager.py:83: error: Invalid index type \"str\" for \"str\"; expected type \"Union[SupportsIndex, slice[Any, Any, Any]]\"  [index]\nsrc/dspy_meme_gen/backup/manager.py:84: error: Value of type \"Union[str, int]\" is not indexable  [index]\nsrc/dspy_meme_gen/backup/manager.py:84: error: Invalid index type \"str\" for \"str\"; expected type \"Union[SupportsIndex, slice[Any, Any, Any]]\"  [index]\nsrc/dspy_meme_gen/backup/manager.py:127: error: Value of type \"Union[str, int]\" is not indexable  [index]\nsrc/dspy_meme_gen/backup/manager.py:127: error: Invalid index type \"str\" for \"str\"; expected type \"Union[SupportsIndex, slice[Any, Any, Any]]\"  [index]\nsrc/dspy_meme_gen/backup/manager.py:128: error: Value of type \"Union[str, int]\" is not indexable  [index]\nsrc/dspy_meme_gen/backup/manager.py:128: error: Invalid index type \"str\" for \"str\"; expected type \"Union[SupportsIndex, slice[Any, Any, Any]]\"  [index]\nsrc/dspy_meme_gen/backup/manager.py:159: error: Value of type \"Union[str, int]\" is not indexable  [index]\nsrc/dspy_meme_gen/backup/manager.py:159: error: Invalid index type \"str\" for \"str\"; expected type \"Union[SupportsIndex, slice[Any, Any, Any]]\"  [index]\nsrc/dspy_meme_gen/backup/manager.py:217: error: Value of type \"Union[str, int]\" is not indexable  [index]\nsrc/dspy_meme_gen/backup/manager.py:217: error: Invalid index type \"str\" for \"str\"; expected type \"Union[SupportsIndex, slice[Any, Any, Any]]\"  [index]\nsrc/dspy_meme_gen/backup/manager.py:294: error: Value of type \"Union[str, int]\" is not indexable  [index]\nsrc/dspy_meme_gen/backup/manager.py:294: error: Invalid index type \"str\" for \"str\"; expected type \"Union[SupportsIndex, slice[Any, Any, Any]]\"  [index]\nsrc/dspy_meme_gen/backup/manager.py:295: error: Value of type \"Union[str, int]\" is not indexable  [index]\nsrc/dspy_meme_gen/backup/manager.py:295: error: Invalid index type \"str\" for \"str\"; expected type \"Union[SupportsIndex, slice[Any, Any, Any]]\"  [index]\nsrc/dspy_meme_gen/backup/manager.py:300: error: Argument \"days\" to \"timedelta\" has incompatible type \"Union[str, int]\"; expected \"float\"  [arg-type]\nsrc/dspy_meme_gen/agents/scoring.py:7: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/agents/scoring.py:9: error: Module \"dspy_meme_gen.models.content_guidelines\" has no attribute \"ContentGuidelines\"; maybe \"ContentGuideline\"?  [attr-defined]\nsrc/dspy_meme_gen/agents/scoring.py:147: error: Missing positional arguments \"meme_id\", \"criteria\" in call to \"ScoringError\"  [call-arg]\nsrc/dspy_meme_gen/agents/appropriateness.py:4: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/agents/appropriateness.py:4: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\nsrc/dspy_meme_gen/agents/trend_scanner.py:8: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/agents/trend_scanner.py:250: error: Invalid index type \"int\" for \"dict[str, Any]\"; expected type \"str\"  [index]\nsrc/dspy_meme_gen/utils/logging.py:54: error: Incompatible types in assignment (expression has type \"Optional[FrameType]\", variable has type \"FrameType\")  [assignment]\nsrc/dspy_meme_gen/utils/logging.py:118: error: Returning Any from function declared to return \"BoundLogger\"  [no-any-return]\nsrc/dspy_meme_gen/utils/logging.py:187: error: Name \"asyncio\" is not defined  [name-defined]\nsrc/dspy_meme_gen/utils/logging.py:246: error: Name \"asyncio\" is not defined  [name-defined]\nsrc/dspy_meme_gen/cli/db.py:90: error: No overload variant of \"sessionmaker\" matches argument types \"AsyncEngine\", \"type[AsyncSession]\", \"bool\"  [call-overload]\nsrc/dspy_meme_gen/cli/db.py:90: note: Possible overload variants:\nsrc/dspy_meme_gen/cli/db.py:90: note:     def [_S: Session] __init__(self, bind: Union[Engine, Connection, None] = ..., *, class_: type[_S], autoflush: bool = ..., expire_on_commit: bool = ..., info: Optional[dict[Any, Any]] = ..., **kw: Any) -> sessionmaker[_S]\nsrc/dspy_meme_gen/cli/db.py:90: note:     def [_S: Session] __init__(self, bind: Union[Engine, Connection, None] = ..., *, autoflush: bool = ..., expire_on_commit: bool = ..., info: Optional[dict[Any, Any]] = ..., **kw: Any) -> sessionmaker[Session]\nsrc/dspy_meme_gen/cache/redis.py:115: error: Argument 1 to \"_deserialize\" of \"RedisCache\" has incompatible type \"Union[Awaitable[Any], Any]\"; expected \"Optional[str]\"  [arg-type]\nsrc/dspy_meme_gen/cache/redis.py:173: error: Incompatible return value type (got \"Union[Awaitable[Any], Any, None]\", expected \"Optional[int]\")  [return-value]\nsrc/dspy_meme_gen/cache/redis.py:173: error: Unsupported operand types for < (\"int\" and \"Awaitable[Any]\")  [operator]\nsrc/dspy_meme_gen/cache/redis.py:173: note: Left operand is of type \"Union[Awaitable[Any], Any]\"\nsrc/dspy_meme_gen/cache/redis.py:190: error: Incompatible return value type (got \"Union[Awaitable[Any], Any]\", expected \"int\")  [return-value]\nsrc/dspy_meme_gen/cache/redis.py:192: error: Incompatible return value type (got \"Union[Awaitable[Any], Any]\", expected \"int\")  [return-value]\nsrc/dspy_meme_gen/cache/redis.py:223: error: Expected iterable as variadic argument  [misc]\nsrc/dspy_meme_gen/cache/redis.py:242: error: Argument 2 to \"zip\" has incompatible type \"Union[Awaitable[Any], Any]\"; expected \"Iterable[Any]\"  [arg-type]\nsrc/dspy_meme_gen/middleware/error_handler.py:9: error: Cannot find implementation or library stub for module named \"aioredis.exceptions\"  [import-not-found]\nsrc/dspy_meme_gen/middleware/error_handler.py:10: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/config/database.py:57: error: Argument 1 to \"make_url\" has incompatible type \"Optional[str]\"; expected \"Union[str, URL]\"  [arg-type]\nsrc/dspy_meme_gen/cache/guideline_cache.py:7: error: Cannot find implementation or library stub for module named \"aioredis\"  [import-not-found]\nsrc/dspy_meme_gen/cache/guideline_cache.py:8: error: Cannot find implementation or library stub for module named \"aioredis.client\"  [import-not-found]\nsrc/dspy_meme_gen/cache/guideline_cache.py:10: error: Cannot find implementation or library stub for module named \"dspy_meme_gen.models.models\"  [import-not-found]\nsrc/dspy_meme_gen/utils/config.py:165: error: \"object\" has no attribute \"items\"  [attr-defined]\nsrc/dspy_meme_gen/utils/config.py:189: error: \"Callable[[Union[str, Path, None], str], AppConfig]\" has no attribute \"_config\"  [attr-defined]\nsrc/dspy_meme_gen/utils/config.py:190: error: Returning Any from function declared to return \"AppConfig\"  [no-any-return]\nsrc/dspy_meme_gen/utils/config.py:190: error: \"Callable[[Union[str, Path, None], str], AppConfig]\" has no attribute \"_config\"  [attr-defined]\nsrc/dspy_meme_gen/config/config.py:20: error: Variable \"pydantic.BaseSettings\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/config/config.py:20: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases\nsrc/dspy_meme_gen/config/config.py:20: error: Invalid base class \"BaseSettings\"  [misc]\nsrc/dspy_meme_gen/config/config.py:38: error: Variable \"pydantic.BaseSettings\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/config/config.py:38: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases\nsrc/dspy_meme_gen/config/config.py:38: error: Invalid base class \"BaseSettings\"  [misc]\nsrc/dspy_meme_gen/config/config.py:54: error: Variable \"pydantic.BaseSettings\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/config/config.py:54: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases\nsrc/dspy_meme_gen/config/config.py:54: error: Invalid base class \"BaseSettings\"  [misc]\nsrc/dspy_meme_gen/config/config.py:65: error: Variable \"pydantic.BaseSettings\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/config/config.py:65: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases\nsrc/dspy_meme_gen/config/config.py:65: error: Invalid base class \"BaseSettings\"  [misc]\nsrc/dspy_meme_gen/config/config.py:82: error: Variable \"pydantic.BaseSettings\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/config/config.py:82: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases\nsrc/dspy_meme_gen/config/config.py:82: error: Invalid base class \"BaseSettings\"  [misc]\nsrc/dspy_meme_gen/config/config.py:92: error: Variable \"pydantic.BaseSettings\" is not valid as a type  [valid-type]\nsrc/dspy_meme_gen/config/config.py:92: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases\nsrc/dspy_meme_gen/config/config.py:92: error: Invalid base class \"BaseSettings\"  [misc]\nsrc/dspy_meme_gen/cli.py:10: error: Cannot find implementation or library stub for module named \"dspy_meme_gen.database.repository\"  [import-not-found]\nsrc/dspy_meme_gen/cli.py:28: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:43: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:58: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:67: error: \"TrendingTopic\" has no attribute \"timestamp\"  [attr-defined]\nsrc/dspy_meme_gen/cli.py:75: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:97: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:112: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:146: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:183: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:198: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:234: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:268: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:280: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/cli.py:280: note: Use \"-> None\" if function does not return a value\nsrc/dspy_meme_gen/models/connection.py:28: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/models/connection.py:28: note: Use \"-> None\" if function does not return a value\nsrc/dspy_meme_gen/models/connection.py:113: error: Function is missing a type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/models/connection.py:125: error: Function is missing a type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/models/connection.py:198: error: No overload variant of \"execute\" of \"AsyncSession\" matches argument type \"str\"  [call-overload]\nsrc/dspy_meme_gen/models/connection.py:198: note: Possible overload variants:\nsrc/dspy_meme_gen/models/connection.py:198: note:     def [_T: Any] execute(self, statement: TypedReturnsRows[_T], params: Union[Sequence[Mapping[str, Any]], Mapping[str, Any], None] = ..., *, execution_options: Union[_OrmKnownExecutionOptions, Mapping[str, Any]] = ..., bind_arguments: Optional[dict[str, Any]] = ..., _parent_execute_state: Optional[Any] = ..., _add_event: Optional[Any] = ...) -> Coroutine[Any, Any, Result[_T]]\nsrc/dspy_meme_gen/models/connection.py:198: note:     def execute(self, statement: UpdateBase, params: Optional[Union[Sequence[Mapping[str, Any]], Mapping[str, Any]]] = ..., *, execution_options: Union[_OrmKnownExecutionOptions, Mapping[str, Any]] = ..., bind_arguments: Optional[dict[str, Any]] = ..., _parent_execute_state: Optional[Any] = ..., _add_event: Optional[Any] = ...) -> Coroutine[Any, Any, CursorResult[Any]]\nsrc/dspy_meme_gen/models/connection.py:198: note:     def execute(self, statement: Executable, params: Optional[Union[Sequence[Mapping[str, Any]], Mapping[str, Any]]] = ..., *, execution_options: Union[_OrmKnownExecutionOptions, Mapping[str, Any]] = ..., bind_arguments: Optional[dict[str, Any]] = ..., _parent_execute_state: Optional[Any] = ..., _add_event: Optional[Any] = ...) -> Coroutine[Any, Any, Result[Any]]\nsrc/dspy_meme_gen/agents/image_renderer.py:8: error: Cannot find implementation or library stub for module named \"cloudinary\"  [import-not-found]\nsrc/dspy_meme_gen/agents/image_renderer.py:9: error: Cannot find implementation or library stub for module named \"cloudinary.uploader\"  [import-not-found]\nsrc/dspy_meme_gen/agents/image_renderer.py:87: error: Argument 1 to \"get\" has incompatible type \"Optional[str]\"; expected \"Union[str, bytes]\"  [arg-type]\nsrc/dspy_meme_gen/agents/image_renderer.py:123: error: \"ImageDraw\" has no attribute \"textsize\"  [attr-defined]\nsrc/dspy_meme_gen/agents/image_renderer.py:178: error: Returning Any from function declared to return \"dict[str, Any]\"  [no-any-return]\nsrc/dspy_meme_gen/models/database.py:42: error: Value of type \"Coroutine[Any, Any, None]\" must be used  [unused-coroutine]\nsrc/dspy_meme_gen/models/database.py:42: note: Are you missing an await?\nsrc/dspy_meme_gen/cli/main.py:68: error: \"ImageRenderingAgent\" not callable  [operator]\nsrc/dspy_meme_gen/agents/refinement.py:7: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/agents/refinement.py:11: error: Module \"dspy_meme_gen.exceptions.meme_specific\" has no attribute \"RefinementError\"  [attr-defined]\nsrc/dspy_meme_gen/agents/refinement.py:113: error: \"ImageRenderingAgent\" not callable  [operator]\nsrc/dspy_meme_gen/agents/refinement.py:193: error: Returning Any from function declared to return \"ScoringResult\"  [no-any-return]\nsrc/dspy_meme_gen/pipeline.py:7: error: Skipping analyzing \"dspy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nsrc/dspy_meme_gen/pipeline.py:17: error: Module \"dspy_meme_gen.exceptions.meme_specific\" has no attribute \"PipelineError\"  [attr-defined]\nsrc/dspy_meme_gen/pipeline.py:18: error: Module \"dspy_meme_gen.models.content_guidelines\" has no attribute \"ContentGuidelines\"; maybe \"ContentGuideline\"?  [attr-defined]\nsrc/dspy_meme_gen/pipeline.py:66: error: Missing positional argument \"guideline_repository\" in call to \"AppropriatenessAgent\"  [call-arg]\nsrc/dspy_meme_gen/pipeline.py:100: error: \"None\" not callable  [misc]\nsrc/dspy_meme_gen/pipeline.py:148: error: \"ImageRenderingAgent\" not callable  [operator]\nsrc/dspy_meme_gen/monitoring/metrics.py:6: error: Library stubs not installed for \"psutil\"  [import-untyped]\nsrc/dspy_meme_gen/monitoring/metrics.py:7: error: Cannot find implementation or library stub for module named \"prometheus_client\"  [import-not-found]\nsrc/dspy_meme_gen/monitoring/metrics.py:136: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/monitoring/metrics.py:136: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\nsrc/dspy_meme_gen/middleware/cache.py:131: error: \"bytes\" not callable  [operator]\nsrc/dspy_meme_gen/middleware/cache.py:131: error: \"memoryview[int]\" not callable  [operator]\nsrc/dspy_meme_gen/api/main.py:12: error: Cannot find implementation or library stub for module named \"dspy_meme_gen.api.routers\"  [import-not-found]\nsrc/dspy_meme_gen/api/main.py:13: error: Cannot find implementation or library stub for module named \"dspy_meme_gen.api.dependencies\"  [import-not-found]\nsrc/dspy_meme_gen/api/main.py:70: error: Incompatible return value type (got \"HTMLResponse\", expected \"JSONResponse\")  [return-value]\nsrc/dspy_meme_gen/api/main.py:77: error: Function is missing a return type annotation  [no-untyped-def]\nsrc/dspy_meme_gen/api/main.py:107: error: Cannot assign to a method  [method-assign]\nsrc/dspy_meme_gen/api/health.py:6: error: Cannot find implementation or library stub for module named \"aioredis\"  [import-not-found]\nsrc/dspy_meme_gen/api/health.py:8: error: Cannot find implementation or library stub for module named \"dspy_meme_gen.dependencies\"  [import-not-found]\nsrc/dspy_meme_gen/api/endpoints.py:8: error: Cannot find implementation or library stub for module named \"dspy_meme_gen.database.repository\"  [import-not-found]\nsrc/dspy_meme_gen/api/endpoints.py:80: error: Returning Any from function declared to return \"MemeTemplate\"  [no-any-return]\nsrc/dspy_meme_gen/api/endpoints.py:99: error: Returning Any from function declared to return \"MemeTemplate\"  [no-any-return]\nsrc/dspy_meme_gen/api/endpoints.py:109: error: Returning Any from function declared to return \"list[MemeTemplate]\"  [no-any-return]\nsrc/dspy_meme_gen/api/endpoints.py:139: error: Returning Any from function declared to return \"GeneratedMeme\"  [no-any-return]\nsrc/dspy_meme_gen/api/endpoints.py:157: error: Returning Any from function declared to return \"GeneratedMeme\"  [no-any-return]\nsrc/dspy_meme_gen/api/endpoints.py:168: error: Returning Any from function declared to return \"list[GeneratedMeme]\"  [no-any-return]\nsrc/dspy_meme_gen/api/endpoints.py:183: error: Returning Any from function declared to return \"list[TrendingTopic]\"  [no-any-return]\nsrc/dspy_meme_gen/api/endpoints.py:196: error: Unsupported operand types for < (\"int\" and \"None\")  [operator]\nsrc/dspy_meme_gen/api/endpoints.py:196: note: Left operand is of type \"Optional[int]\"\nsrc/dspy_meme_gen/api/endpoints.py:203: error: Item \"None\" of \"Optional[str]\" has no attribute \"split\"  [union-attr]\nsrc/dspy_meme_gen/api/endpoints.py:213: error: Argument 1 to \"resize_image\" has incompatible type \"bytes\"; expected \"Union[Image, BytesIO, Path, str]\"  [arg-type]\nsrc/dspy_meme_gen/api/backup.py:6: error: Cannot find implementation or library stub for module named \"dspy_meme_gen.dependencies\"  [import-not-found]\nsrc/dspy_meme_gen/api/backup.py:184: error: \"BackupManager\" has no attribute \"cleanup_old_backups\"; maybe \"_cleanup_old_backups\"?  [attr-defined]\nFound 191 errors in 40 files (checked 49 source files)\n",
    "errors": null
  },
  "linting": {
    "passed": false,
    "output": "",
    "errors": "ruff failed\n  Cause: Failed to load configuration `/Users/speed/dspyproject/ruff.toml`\n  Cause: Failed to parse /Users/speed/dspyproject/ruff.toml\n  Cause: TOML parse error at line 6, column 27\n  |\n6 | pydocstyle = {\"convention\": \"google\"}\n  |                           ^\nexpected `.`, `=`\n\n"
  },
  "coverage": {
    "passed": false,
    "error": "[Errno 2] No such file or directory: 'coverage.xml'"
  },
  "benchmarks": {
    "passed": false,
    "error": "attempted relative import with no known parent package"
  },
  "quality_metrics": {
    "passed": false,
    "error": "No module named 'radon'"
  },
  "overall_status": false
}